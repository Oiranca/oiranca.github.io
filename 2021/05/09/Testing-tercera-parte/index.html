<!DOCTYPE html>

<html lang="en" class="no-js" id="body">

	<!-- BEGIN HEAD -->
<head>

  
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
  

  <title>Un novato junto a &#34;React Testing&#34; última parte (Firing Events)</title>

  

  <meta name="description" content="">

  


  <link rel="apple-touch-icon" sizes="57x57" href="img/favicon/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="img/favicon/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="img/favicon/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="img/favicon/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="img/favicon/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="img/favicon/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="img/favicon/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="img/favicon/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="img/favicon/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192"  href="img/favicon/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="img/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="img/favicon/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="img/favicon/favicon-16x16.png">
<!--  <link rel="manifest" href="source/img/favicon/manifest.json">-->
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="img/favicon/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">


  

<!-- Open Graph data-->
<meta property="og:type" content="blog">
<meta property="og:title" content="Un novato junto a &#34;React Testing&#34; última parte (Firing Events)">
<meta property="og:site_name" content="Samuel.R.A">
<meta property="og:url" content="http://localhost:4000/2021/05/09/Testing-tercera-parte/">
<meta property="og:description" content="">



  <meta property="og:image" content="http://localhost:4000/img/japon/templo_izquierda.jpg">
  <meta property="og:image:type" content="image/jpeg">
  <meta property="og:image:width" content="1663">
  <meta property="og:image:height" content="1247">

  <meta property="og:image" content="http://localhost:4000/img/japon/small_templo_izquierda.jpg">
  <meta property="og:image:type" content="image/jpeg">
  <meta property="og:image:width" content="200">
  <meta property="og:image:height" content="150">



<!-- end Open Graph data-->
  
<link href="https://fonts.googleapis.com/css?family=Hind:300,400,500,600,700" rel="stylesheet" type="text/css">
  
<!-- GLOBAL MANDATORY STYLES -->
<link href="/vendor/simple-line-icons/css/simple-line-icons.css" rel="stylesheet" type="text/css"/>
<link href="/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
<link href="/vendor/animate.css/animate.css" rel="stylesheet">



<link rel="stylesheet" href="/sass/layout.css">

  





<meta name="generator" content="Hexo 4.2.1"></head>
<!-- END HEAD -->

  <body>
		
		


<!--========== HEADER ==========-->
<header class="header navbar-fixed-top">
  <!-- Navbar -->
  <nav class="navbar" role="navigation">
      <div class="container">
          <!-- Brand and toggle get grouped for better mobile display -->
          <div class="menu-container js_nav-item">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
                  <span class="sr-only">Toggle navigation</span>
                  <span class="toggle-icon"></span>
              </button>

<!--              &lt;!&ndash; Logo &ndash;&gt;-->
<!--              <div class="logo">-->
<!--                &lt;!&ndash; En caso de una text &ndash;&gt;-->
<!--                -->
<!--                    <a class="logo-wrap" href="/#body" style="text-decoration: none;" >-->
<!--                        <img class="logo-img logo-img-main" src="" alt="Asentus Logo">-->
<!--                        <img class="logo-img logo-img-active" src="" alt="Asentus Logo">-->
<!--                    </a>-->
<!--                -->
<!--              </div>-->
<!--              &lt;!&ndash; End Logo &ndash;&gt;-->
          </div>

          <!-- Collect the nav links, forms, and other content for toggling -->
          <div class="collapse navbar-collapse nav-collapse">
              <div class="menu-container">
                  <ul class="nav navbar-nav navbar-nav-right">
                      
                      
                        <li class="js_nav-item nav-item">
                            <a  class="nav-item-child nav-item-hover"
                                href="/#body"
                            >
                            Incio
                        </a>
                        </li>
                      
                        <li class="js_nav-item nav-item">
                            <a  class="nav-item-child nav-item-hover"
                                href="/#about"
                            >
                            Un poco de mí
                        </a>
                        </li>
                      
                        <li class="js_nav-item nav-item">
                            <a  class="nav-item-child nav-item-hover"
                                href="/#experience"
                            >
                            Experiencia
                        </a>
                        </li>
                      
                        <li class="js_nav-item nav-item">
                            <a  class="nav-item-child nav-item-hover"
                                href="/#work"
                            >
                            Proyectos
                        </a>
                        </li>
                      
                        <li class="js_nav-item nav-item">
                            <a  class="nav-item-child nav-item-hover"
                                href="/#contact"
                            >
                            Contacto
                        </a>
                        </li>
                      
                        <li class="js_nav-item nav-item">
                            <a  class="nav-item-child nav-item-hover"
                                href="/blog"
                            >
                            Blog
                        </a>
                        </li>
                      
                  </ul>
              </div>
          </div>
          <!-- End Navbar Collapse -->
      </div>
  </nav>
  <!-- Navbar -->

</header>
<!--========== END HEADER ==========-->

		<section id="post">
  <div class="content content-width">
    <h1 class="post-title"> Un novato junto a &#34;React Testing&#34; última parte (Firing Events)</h1>
    <p class="date"> Sun May 09 2021 10:48:00 GMT+0100 </p>
    
    <p><img src="https://i.imgur.com/StMOQvK.png" alt=""></p>
<p>Me gustaría empezar este último post sobre <strong>“React Testing”</strong> comentando que nada más entrar en el apartado de <strong>Firing Events</strong> la documentación nos indica que en muchos proyectos se usa <strong>fireEvent, cuando la mayor parte deberias usar</strong> <strong><a href="https://testing-library.com/docs/ecosystem-user-event/" target="_blank" rel="noopener">User-Event</a></strong></p>
<h1 id="FireEvent"><a href="#FireEvent" class="headerlink" title="FireEvent"></a>FireEvent</h1><p>Son eventos de los propios elementos del DOM, dichos eventos los podemos ver en la documentación oficial <strong><a href="https://developer.mozilla.org/es/docs/Web/API" target="_blank" rel="noopener">Developer Mozilla</a></strong>.</p>
<p>Como por el ejmplo el evento <strong>Click</strong>, el cual se ejecuta al pulsar nuestro ratón. </p>
<p><img src="https://i.imgur.com/822ydEe.gif" alt=""></p>
<p>Aquí podemos ver un ejemplo sencillo de como funcionaría un componente <strong>Button</strong> y su test:</p>
<p><strong>Componente</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">import * as React from &quot;react&quot;;</span><br><span class="line">import &quot;.&#x2F;Button.scss&quot;;</span><br><span class="line"></span><br><span class="line">const Button &#x3D; (&#123; onClick, text &#125;) &#x3D;&gt; &#123;</span><br><span class="line">  text &#x3D; &quot;Click fireEvent&quot;;</span><br><span class="line">  return (</span><br><span class="line">    &lt;div className&#x3D;&#123;&quot;Button&quot;&#125;&gt;</span><br><span class="line">      &lt;h3&gt;DOMFireEvent&lt;&#x2F;h3&gt;</span><br><span class="line">      &lt;button type&#x3D;&quot;submit&quot; onClick&#x3D;&#123;onClick&#125;&gt;</span><br><span class="line">        &#123;text&#125;</span><br><span class="line">      &lt;&#x2F;button&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">export default Button;</span><br></pre></td></tr></table></figure>

<br/>

<p> <strong>Test</strong></p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">import * as React from &quot;react&quot;;</span><br><span class="line">import * as Testing from &quot;@testing-library&#x2F;react&quot;;</span><br><span class="line">import Button from &quot;.&#x2F;Button&quot;;  </span><br><span class="line"></span><br><span class="line">test(&quot;mouseEvent click&quot;, () &#x3D;&gt; &#123;</span><br><span class="line">  const changeHandle &#x3D; jest.fn();</span><br><span class="line">  const component &#x3D; Testing.render(</span><br><span class="line">    &lt;Button onClick&#x3D;&#123;changeHandle&#125;&gt;Click button to fireEvent&lt;&#x2F;Button&gt;</span><br><span class="line">  );</span><br><span class="line"></span><br><span class="line">  const button &#x3D; component.getByText(&quot;Click fireEvent&quot;);</span><br><span class="line"></span><br><span class="line">  Testing.fireEvent.click(button);</span><br><span class="line"></span><br><span class="line">  expect(changeHandle).toHaveBeenCalledTimes(1);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>



<ul>
<li><h3 id="FireEvent-eventName"><a href="#FireEvent-eventName" class="headerlink" title="FireEvent[eventName]"></a>FireEvent[eventName]</h3></li>
</ul>
<p>En este punto la documentación aconseja  que veamos los <a href="https://github.com/testing-library/dom-testing-library/blob/master/src/event-map.js" target="_blank" rel="noopener">tipos de eventos</a> que podemos encontrar.</p>
<p>Esta manera de llamar al evento es más directa, por ejemplo tenémos el evento <strong>change</strong> el cual nos simularía un cambio en el elemento.</p>
<p><img src="https://i.imgur.com/Dg3jK8L.gif" alt=""></p>
<p>Aquí podemos ver un ejemplo sencillo de como funcionaría un componente <strong>Input</strong> y su test:</p>
<p><strong>Componente</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">import * as React from &quot;react&quot;;</span><br><span class="line">import &quot;.&#x2F;InputFireEvent.scss&quot;;</span><br><span class="line"></span><br><span class="line">const InputFireEvent &#x3D; () &#x3D;&gt; &#123;</span><br><span class="line">  const [value, setValue] &#x3D; React.useState(&quot;&quot;);</span><br><span class="line">  const handleChange &#x3D; (ev) &#x3D;&gt; &#123;</span><br><span class="line">    ev.preventDefault();</span><br><span class="line">    const inputtedValue &#x3D; ev.currentTarget.value;</span><br><span class="line">    setValue(inputtedValue);</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  return (</span><br><span class="line">    &lt;div className&#x3D;&#123;&quot;input-with-title&quot;&#125;&gt;</span><br><span class="line">      &lt;h3&gt;Change FireEvent&lt;&#x2F;h3&gt;</span><br><span class="line">      &lt;input value&#x3D;&#123;value&#125; aria-label&#x3D;&quot;date-input&quot; onChange&#x3D;&#123;handleChange&#125; &#x2F;&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">export default InputFireEvent;</span><br></pre></td></tr></table></figure>

<br/>

<p> <strong>Test</strong></p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">import * as React from &quot;react&quot;;</span><br><span class="line">import * as Testing from &quot;@testing-library&#x2F;react&quot;;</span><br><span class="line">import InputFireEvent from &quot;.&#x2F;InputFireEvent&quot;;</span><br><span class="line"></span><br><span class="line">test(&quot;change fireEvent&quot;, () &#x3D;&gt; &#123;</span><br><span class="line">  const utils &#x3D; Testing.render(&lt;InputFireEvent &#x2F;&gt;);</span><br><span class="line">  const input &#x3D; utils.getByLabelText(&quot;date-input&quot;);</span><br><span class="line">  const date &#x3D; &quot;2021-02-03&quot;;</span><br><span class="line"></span><br><span class="line">  Testing.fireEvent.change(input, &#123; target: &#123; value: date &#125; &#125;);</span><br><span class="line">  expect(input.value).toBe(&quot;2021-02-03&quot;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<br/>

<ul>
<li><h3 id="CreateEvent-eventName"><a href="#CreateEvent-eventName" class="headerlink" title="CreateEvent[eventName]"></a>CreateEvent[eventName]</h3></li>
</ul>
<p>Esta opción nos permite crear eventos que luego podemos lazar con <strong>fireEvent</strong>. La ventaja que nos proporciona además de poder usarlo en diferentes puntos de nuestro test, es que si necesita acceder a propiedades de eventos que no se pueden iniciar mediante código, lo puede hacer. </p>
<p>Puedes encontrar más información en <a href="https://testing-library.com/docs/dom-testing-library/api-events/#createeventeventname" target="_blank" rel="noopener">#createeventeventname</a></p>

  </div>
</section>

		


<footer class="footer">
  <div class="content container">
      <!--// row -->
      <div class="row">
<!--          <div class="col-xs-6">-->
<!--            -->
<!--              <img class="footer-logo" src="/source/img/japon/templo.jpg" alt="Samuel.R.A">-->
<!--            -->
<!--          <p>Samuel.R.A</p>-->

          </div>
          <div class="col-xs-6 text-right sm-text-left">
              <p class="margin-b-0">
                &copy 2020 Samuel Romero Arbelo
<!--                <br>-->
<!--                <br>-->
<!--                -->
            </p>
          </div>
      </div>
      <!--// end row -->
  </div>
</footer>
		<!-- Back To Top -->
<a href="javascript:void(0);" class="js-back-to-top back-to-top">Top</a>

<!-- JAVASCRIPTS(Load javascripts at bottom, this will reduce page load time) -->
<!-- CORE PLUGINS -->
<script src="/vendor/jquery.min.js" type="text/javascript"></script>
<script src="/vendor/jquery-migrate.min.js" type="text/javascript"></script>
<script src="/vendor/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>

<!-- PAGE LEVEL PLUGINS -->
<script src="/vendor/jquery.easing.js" type="text/javascript"></script>
<script src="/vendor/jquery.back-to-top.js" type="text/javascript"></script>
<script src="/vendor/jquery.wow.min.js" type="text/javascript"></script>
<script src="/vendor/jquery.parallax.min.js" type="text/javascript"></script>
<script src="/vendor/jquery.appear.js" type="text/javascript"></script>
<script src="/vendor/masonry/jquery.masonry.pkgd.min.js" type="text/javascript"></script>
<script src="/vendor/masonry/imagesloaded.pkgd.min.js" type="text/javascript"></script>

<!-- PAGE LEVEL SCRIPTS -->



<script src="/js/layout.js"></script>
<script src="/js/components/progress-bar.js"></script>
<script src="/js/components/masonry.js"></script>
<script src="/js/components/wow.js"></script>


		
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-177376674-1', 'auto');
        ga('send', 'pageview');
    </script>


  </body>
</html>